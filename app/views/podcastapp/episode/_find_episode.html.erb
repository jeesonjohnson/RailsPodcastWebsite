<%# Validation is provided that a given podcasts exists, and is not generated by error.
If only the podcast exists is the view rendered otherwise an error is presented to
the user %>
  <% if @podcast.present? %>
    <div class="container" id="main-episode-container">
      <div class="row">
        <div class="col-sm-12">
          <h1 class="text-center"><%= @podcast.title %></h1>
        </div>
        <div class="col-sm-4">
          <div id="episode-image-item">
            <%= image_tag(@podcast.image.url, {:class => "podcast-logo"}) %>
          </div>
        </div>
        <div class="col-sm-8">
          <p class="text-center" id="podcast-description-style"><%= raw @podcast.description %></p>
          <div class="col-sm-12" id="sub-options">
            <%= link_to t('find_episodes.website'), "http://"+@podcast.url, :target => "_blank", class: "text-center website-link-style", style: "padding-left:20px;" %>
            <div>
            <% if !(current_user.podcast_already_subscribed(params[:itunes_id],current_user.id)) %>
              <%= link_to t('subscribe'),user_podcasts_path(user:current_user,itunes_id: params[:itunes_id],name:@podcast.title,image_url:@podcast.image.url), class:"btn btn-primary btn-lg", method: :post, remote: true, id: "subscribe-button"%>
            <%else%>
              <%= link_to t('unsubscribe'),user_podcasts_path(user_id:current_user.id,itunes_id: params[:itunes_id]), class:"btn btn-primary btn-lg",id:"unsubscribe-button", method: :delete, data:{confirm: t('find_episodes.confirm')}, remote: true%>
            <%end%>
          </div>
          </div>
        </div>

      </div>
    </div>
    <br/><br/>

    <%# For every podcast present the user is presented with a associated podcast element
    that presents podcast data %>
      <% @podcast.entries.size.times do |podIndex| %>
        <div class="episode-list-style jumbotron" style="width:1170px">
          <div style="flex:1">
            <%=link_to "", playaudio_path(:audioUrl => @podcast.entries[podIndex].enclosure_url, :title=>@podcast.title,:image_url=>@podcast.image.url),remote: true, method: :get, class: "glyphicon glyphicon-play-circle play-icon-style"%>
          </div>
          <div style="flex:4">
            <h2 id="episode-title"><%=@podcast.entries[podIndex].title%></h2>
            <div id="scroll-text-box">
              <div id="scrollable-textbox">
                <%= raw @podcast.entries[podIndex].summary%>
              </div>
            </div>
          </div>
        </div>
        <br/>
      <% end %>

    </div>
  <% else %>
    <h1><%= t('find_episodes.error') %></h1>
  <%end%>
